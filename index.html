

小屯南地甲骨查询系统美化
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>小屯南地甲骨分期分類查詢系統</title>
<style>/* 保持原有样式 */</style>
</head>
<body>
<div id="container">
  <h1>小屯南地甲骨分期分類查詢系統</h1>
  <input type="number" id="numberInput" placeholder="輸入版號">
  <button onclick="searchLocal()">查詢</button>
  <p id="result"></p>
</div>

<script>
let data = null;
fetch('data.json')  
  .then(res => res.json())
  .then(json => {
    data = json;
  });

function searchLocal() {
  const number = document.getElementById('numberInput').value.trim();
  if (!number || isNaN(number)) {
    result.textContent = "請輸入有效的數字版號";
    return;
  }
  const target = `.${number}.`;

  for (let rowIdx = 0; rowIdx < data.rows.length; rowIdx++) {
    const row = data.rows[rowIdx];
    for (let colIdx = 0; colIdx < data.columns.length; colIdx++) {
      const cell = row[colIdx] || "";
      if (cell.includes(target)) {
        const x = data.columns[colIdx];
        const y = data.y_labels[rowIdx];
        document.getElementById('result').textContent = `分期：${x} | 分類：${y}`;
        return;
      }
    }
  }
  document.getElementById('result').textContent = "未找到";
}
</script>

</body>
</html>
